{"version":3,"file":"mdb-angular-ui-kit-dropdown.mjs","sources":["../../../projects/mdb-angular-ui-kit/dropdown/dropdown-toggle.directive.ts","../../../projects/mdb-angular-ui-kit/dropdown/dropdown-menu.directive.ts","../../../projects/mdb-angular-ui-kit/dropdown/dropdown.directive.ts","../../../projects/mdb-angular-ui-kit/dropdown/dropdown.component.html","../../../projects/mdb-angular-ui-kit/dropdown/dropdown.module.ts","../../../projects/mdb-angular-ui-kit/dropdown/mdb-angular-ui-kit-dropdown.ts"],"sourcesContent":["import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[mdbDropdownToggle]',\n  exportAs: 'mdbDropdownToggle',\n})\nexport class MdbDropdownToggleDirective {\n  constructor() {}\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  // eslint-disable-next-line @angular-eslint/directive-selector\n  selector: '[mdbDropdownMenu]',\n  exportAs: 'mdbDropdownMenu',\n})\n// eslint-disable-next-line @angular-eslint/component-class-suffix\nexport class MdbDropdownMenuDirective {\n  constructor() {}\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport {\n  ConnectedPosition,\n  FlexibleConnectedPositionStrategy,\n  Overlay,\n  OverlayConfig,\n  OverlayPositionBuilder,\n  OverlayRef,\n} from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { fromEvent, Observable, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { ContentChild } from '@angular/core';\nimport { MdbDropdownToggleDirective } from './dropdown-toggle.directive';\nimport { MdbDropdownMenuDirective } from './dropdown-menu.directive';\nimport { animate, state, style, transition, trigger, AnimationEvent } from '@angular/animations';\nimport { BreakpointObserver } from '@angular/cdk/layout';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: '[mdbDropdown]',\n  templateUrl: 'dropdown.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('fade', [\n      state('visible', style({ opacity: 1 })),\n      state('hidden', style({ opacity: 0 })),\n      transition('visible => hidden', animate('150ms linear')),\n      transition('hidden => visible', [style({ opacity: 0 }), animate('150ms linear')]),\n    ]),\n  ],\n})\n// eslint-disable-next-line @angular-eslint/component-class-suffix\nexport class MdbDropdownDirective implements OnDestroy, AfterContentInit {\n  @ViewChild('dropdownTemplate') _template: TemplateRef<any>;\n  @ContentChild(MdbDropdownToggleDirective, { read: ElementRef }) _dropdownToggle: ElementRef;\n  @ContentChild(MdbDropdownMenuDirective, { read: ElementRef }) _dropdownMenu: ElementRef;\n\n  @Input()\n  get animation(): boolean {\n    return this._animation;\n  }\n  set animation(value: boolean) {\n    this._animation = coerceBooleanProperty(value);\n  }\n  private _animation = true;\n\n  @Input() offset = 0;\n  @Input() closeOnOutsideClick = true;\n  @Input() closeOnItemClick = true;\n  @Input() closeOnEsc = true;\n\n  @Output() dropdownShow: EventEmitter<MdbDropdownDirective> = new EventEmitter();\n  @Output() dropdownShown: EventEmitter<MdbDropdownDirective> = new EventEmitter();\n  @Output() dropdownHide: EventEmitter<MdbDropdownDirective> = new EventEmitter();\n  @Output() dropdownHidden: EventEmitter<MdbDropdownDirective> = new EventEmitter();\n\n  private _overlayRef: OverlayRef;\n  private _portal: TemplatePortal;\n  private _open = false;\n  private _isDropUp: boolean;\n  private _isDropStart: boolean;\n  private _isDropEnd: boolean;\n  private _isDropdownMenuEnd: boolean;\n  private _xPosition: string;\n\n  private _breakpoints = {\n    isSm: this._breakpointObserver.isMatched('(min-width: 576px)'),\n    isMd: this._breakpointObserver.isMatched('(min-width: 768px)'),\n    isLg: this._breakpointObserver.isMatched('(min-width: 992px)'),\n    isXl: this._breakpointObserver.isMatched('(min-width: 1200px)'),\n    isXxl: this._breakpointObserver.isMatched('(min-width: 1400px)'),\n  };\n\n  readonly _destroy$: Subject<void> = new Subject<void>();\n\n  _breakpointSubscription: any;\n  _animationState = 'hidden';\n\n  constructor(\n    private _overlay: Overlay,\n    private _overlayPositionBuilder: OverlayPositionBuilder,\n    private _elementRef: ElementRef,\n    private _vcr: ViewContainerRef,\n    private _breakpointObserver: BreakpointObserver,\n    private _cdRef: ChangeDetectorRef\n  ) {}\n\n  ngAfterContentInit(): void {\n    this._bindDropdownToggleClick();\n  }\n\n  ngOnDestroy(): void {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._overlayRef.dispose();\n    }\n\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  private _bindDropdownToggleClick(): void {\n    fromEvent(this._dropdownToggle.nativeElement, 'click')\n      .pipe(takeUntil(this._destroy$))\n      .subscribe(() => this.toggle());\n  }\n\n  private _createOverlayConfig(): OverlayConfig {\n    return new OverlayConfig({\n      hasBackdrop: false,\n      scrollStrategy: this._overlay.scrollStrategies.reposition(),\n      positionStrategy: this._createPositionStrategy(),\n    });\n  }\n\n  private _createOverlay(): void {\n    this._overlayRef = this._overlay.create(this._createOverlayConfig());\n  }\n\n  private _createPositionStrategy(): FlexibleConnectedPositionStrategy {\n    const positionStrategy = this._overlayPositionBuilder\n      .flexibleConnectedTo(this._dropdownToggle)\n      .withPositions(this._getPosition())\n      .withFlexibleDimensions(false);\n\n    return positionStrategy;\n  }\n\n  private _getPosition(): ConnectedPosition[] {\n    this._isDropUp = this._elementRef.nativeElement.classList.contains('dropup');\n    this._isDropStart = this._elementRef.nativeElement.classList.contains('dropstart');\n    this._isDropEnd = this._elementRef.nativeElement.classList.contains('dropend');\n    this._isDropdownMenuEnd =\n      this._dropdownMenu.nativeElement.classList.contains('dropdown-menu-end');\n    this._xPosition = this._isDropdownMenuEnd ? 'end' : 'start';\n\n    const regex = new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/, 'g');\n\n    const responsiveClass = this._dropdownMenu.nativeElement.className.match(regex);\n\n    if (responsiveClass) {\n      this._subscribeBrakpoints();\n\n      const positionRegex = new RegExp(/start|end/, 'g');\n      const breakpointRegex = new RegExp(/(sm|md|lg|xl|xxl)/, 'g');\n\n      const dropdownPosition = positionRegex.exec(responsiveClass)[0];\n      const breakpoint = breakpointRegex.exec(responsiveClass)[0];\n\n      switch (true) {\n        case breakpoint === 'xxl' && this._breakpoints.isXxl:\n          this._xPosition = dropdownPosition;\n          break;\n        case breakpoint === 'xl' && this._breakpoints.isXl:\n          this._xPosition = dropdownPosition;\n          break;\n        case breakpoint === 'lg' && this._breakpoints.isLg:\n          this._xPosition = dropdownPosition;\n          break;\n        case breakpoint === 'md' && this._breakpoints.isMd:\n          this._xPosition = dropdownPosition;\n          break;\n        case breakpoint === 'sm' && this._breakpoints.isSm:\n          this._xPosition = dropdownPosition;\n          break;\n        default:\n          break;\n      }\n    }\n\n    let position;\n\n    const positionDropup = {\n      originX: this._xPosition,\n      originY: 'top',\n      overlayX: this._xPosition,\n      overlayY: 'bottom',\n      offsetY: -this.offset,\n    };\n\n    const positionDropdown = {\n      originX: this._xPosition,\n      originY: 'bottom',\n      overlayX: this._xPosition,\n      overlayY: 'top',\n      offsetY: this.offset,\n    };\n\n    const positionDropstart = {\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'end',\n      overlayY: 'top',\n      offsetX: this.offset,\n    };\n\n    const positionDropend = {\n      originX: 'end',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'top',\n      offsetX: -this.offset,\n    };\n\n    switch (true) {\n      case this._isDropEnd:\n        position = [positionDropend, positionDropstart];\n        break;\n      case this._isDropStart:\n        position = [positionDropstart, positionDropend];\n        break;\n      case this._isDropUp:\n        position = [positionDropup, positionDropdown];\n        break;\n      default:\n        position = [positionDropdown, positionDropup];\n        break;\n    }\n\n    return position;\n  }\n\n  private _listenToEscKeyup(overlayRef: OverlayRef): Observable<KeyboardEvent> {\n    return fromEvent(document, 'keyup').pipe(\n      filter((event: KeyboardEvent) => event.key === 'Escape'),\n      takeUntil(overlayRef.detachments())\n    );\n  }\n\n  private _listenToClick(overlayRef: OverlayRef, origin: HTMLElement): Observable<MouseEvent> {\n    return fromEvent(document, 'click').pipe(\n      filter((event: MouseEvent) => {\n        const target = event.target as HTMLElement;\n        const isInsideMenu = this._dropdownMenu.nativeElement.contains(target);\n        const notTogglerIcon = !this._dropdownToggle.nativeElement.contains(target);\n        const notCustomContent =\n          !isInsideMenu || (target.classList && target.classList.contains('dropdown-item'));\n        const notOrigin = target !== origin;\n        return notOrigin && notTogglerIcon && notCustomContent;\n      }),\n      takeUntil(overlayRef.detachments())\n    );\n  }\n\n  public onAnimationEnd(event: AnimationEvent): void {\n    if (event.fromState === 'visible' && event.toState === 'hidden') {\n      this._overlayRef.detach();\n      this._open = false;\n      this.dropdownHidden.emit(this);\n    }\n\n    if (event.fromState === 'hidden' && event.toState === 'visible') {\n      this.dropdownShown.emit(this);\n    }\n  }\n\n  private _subscribeBrakpoints(): void {\n    const brakpoints = [\n      '(min-width: 576px)',\n      '(min-width: 768px)',\n      '(min-width: 992px)',\n      '(min-width: 1200px)',\n      '(min-width: 1400px)',\n    ];\n\n    this._breakpointSubscription = this._breakpointObserver\n      .observe(brakpoints)\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((result) => {\n        Object.keys(this._breakpoints).forEach((key, index) => {\n          const brakpointValue = brakpoints[index];\n          const newBreakpoint = result.breakpoints[brakpointValue];\n          const isBreakpointChanged = newBreakpoint !== this._breakpoints[key];\n\n          if (!isBreakpointChanged) {\n            return;\n          }\n\n          this._breakpoints[key] = newBreakpoint;\n\n          if (this._open) {\n            this._overlayRef.updatePositionStrategy(this._createPositionStrategy());\n          }\n        });\n      });\n  }\n\n  show(): void {\n    this._cdRef.markForCheck();\n\n    if (this._open) {\n      return;\n    }\n\n    if (!this._overlayRef) {\n      this._createOverlay();\n    }\n\n    this._portal = new TemplatePortal(this._template, this._vcr);\n\n    this.dropdownShow.emit(this);\n\n    this._open = true;\n    this._overlayRef.attach(this._portal);\n\n    this._listenToEscKeyup(this._overlayRef).subscribe((isEsc) => {\n      if (isEsc && this.closeOnEsc) {\n        this.hide();\n      }\n    });\n\n    this._overlayRef\n      .keydownEvents()\n      .pipe(takeUntil(this._overlayRef.detachments()))\n      .subscribe((event: KeyboardEvent) => {\n        this._handleKeyboardNavigation(event);\n      });\n\n    this._listenToClick(this._overlayRef, this._dropdownToggle.nativeElement).subscribe((event) => {\n      const target = event.target as HTMLElement;\n      const isDropdownItem = target.classList && target.classList.contains('dropdown-item');\n\n      if (this.closeOnItemClick && isDropdownItem) {\n        this.hide();\n        return;\n      }\n      if (this.closeOnOutsideClick && !isDropdownItem) {\n        this.hide();\n        return;\n      }\n    });\n\n    this._animationState = 'visible';\n  }\n\n  private _handleKeyboardNavigation(event: KeyboardEvent) {\n    const items: HTMLElement[] = Array.from(\n      this._dropdownMenu.nativeElement.querySelectorAll('.dropdown-item')\n    );\n    const key = event.key;\n    const activeElement = this._dropdownMenu.nativeElement.ownerDocument.activeElement;\n\n    if (items.length === 0) {\n      return;\n    }\n\n    let index = items.indexOf(activeElement);\n\n    switch (key) {\n      case 'ArrowDown':\n        event.preventDefault();\n\n        index = Math.min(index + 1, items.length - 1);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n\n        if (index === -1) {\n          index = items.length - 1;\n          break;\n        }\n        index = Math.max(index - 1, 0);\n        break;\n    }\n\n    const nextActiveElement: HTMLElement = items[index];\n\n    if (nextActiveElement) {\n      nextActiveElement.focus();\n    }\n  }\n\n  hide(): void {\n    this._cdRef.markForCheck();\n\n    if (!this._open) {\n      return;\n    }\n\n    this.dropdownHide.emit(this);\n\n    this._animationState = 'hidden';\n  }\n\n  toggle(): void {\n    this._cdRef.markForCheck();\n\n    if (this._open) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  static ngAcceptInputType_animation: BooleanInput;\n}\n","<ng-content></ng-content>\n<ng-content select=\".dropdown-toggle\"></ng-content>\n<ng-template #dropdownTemplate>\n  <div [@fade]=\"_animationState\" (@fade.done)=\"onAnimationEnd($event)\" [@.disabled]=\"!animation\">\n    <ng-content select=\".dropdown-menu\"></ng-content>\n  </div>\n</ng-template>\n","import { MdbDropdownDirective } from './dropdown.directive';\nimport { MdbDropdownToggleDirective } from './dropdown-toggle.directive';\nimport { MdbDropdownMenuDirective } from './dropdown-menu.directive';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule } from '@angular/cdk/overlay';\n@NgModule({\n  imports: [CommonModule, OverlayModule],\n  declarations: [MdbDropdownDirective, MdbDropdownToggleDirective, MdbDropdownMenuDirective],\n  exports: [MdbDropdownDirective, MdbDropdownToggleDirective, MdbDropdownMenuDirective],\n})\nexport class MdbDropdownModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}